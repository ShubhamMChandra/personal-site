/*
  ═══════════════════════════════════════════════════════════
  styles.css - Portfolio Bookshelf Styles
  ═══════════════════════════════════════════════════════════

  WHAT:         All visual styles for the bookshelf portfolio
  WHY:          Creates immersive library aesthetic with warm wood tones
  DEPENDENCIES: Google Fonts (Cormorant Garamond, Space Grotesk, Space Mono)
  HOW:          CSS custom properties, 3D transforms, layered shadows

  ═══════════════════════════════════════════════════════════
*/

/* ═══════════════════════════════════════════════════════════
   THE BOOKSHELF - An Immersive Portfolio Experience
   ═══════════════════════════════════════════════════════════

   TABLE OF CONTENTS:
   ------------------
   1. VARIABLES & BASE ........... Line ~11
   2. CUSTOM CURSOR .............. Line ~85
   3. COLLAPSED NAVIGATION ....... Line ~190
   4. BOOKSHELF SCENE ............ Line ~260
      - Atmosphere & Bulb
      - Books Container
      - Book Spines
      - Shelf Surface
   5. BOOK VIEW (Open Book) ...... Line ~1290
      - Page Layout
      - Page Content Styles
   6. ANIMATIONS ................. Line ~1050
   7. RESPONSIVE ................. Line ~1940

   ═══════════════════════════════════════════════════════════ */

*, *::before, *::after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

/* Visually hidden - accessible to screen readers but not visible */
.visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  border: 0;
}

:root {
  /* Core Colors - Dark Study (keeping original) */
  --bg: #0a0908;
  --bg-warm: #12100c;
  --accent: #c4956a;
  --accent-dim: rgba(196, 149, 106, 0.15);
  --accent-glow: rgba(196, 149, 106, 0.3);
  --text: #f5f0e8;
  --text-secondary: #c4b8a8;
  --text-tertiary: #8a7a6a;

  /* Wood Colors - Rich dark wood */
  --wood-dark: #1a0f0a;
  --wood-mid: #2d1810;
  --wood-light: #4a2c1a;
  --wood-highlight: #5c3a24;
  --wood-grain: rgba(74, 44, 26, 0.3);

  /* Book Cover Colors - match SVG spine colors */
  --book-work: #952626;
  --book-about: #2a4d8c;
  --book-contact: #34684a;
  --book-references: #4a3060;
  --book-mystery: #553d62;

  /* Page Colors - Harvard Press warmth */
  --page-bg: #f8f5ef;
  --page-cream: #f4f1e8;
  --page-text: #1a1714;
  --page-secondary: #3d3832;
  --page-tertiary: #5a554c;
  --page-spine: #e8e0d4;
  --page-rule: rgba(26, 23, 20, 0.12);
  
  /* Accent - UChicago maroon */
  --accent-maroon: #800000;

  /* Typography */
  --font-serif: 'Cormorant Garamond', Georgia, serif;
  --font-sans: 'Space Grotesk', -apple-system, sans-serif;
  --font-mono: 'Space Mono', monospace;

  /* Spacing */
  --space-xs: 0.5rem;
  --space-sm: 1rem;
  --space-md: 1.5rem;
  --space-lg: 2.5rem;
  --space-xl: 4rem;

  /* Animation */
  --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-out-back: cubic-bezier(0.34, 1.56, 0.64, 1);
  --ease-in-out: cubic-bezier(0.76, 0, 0.24, 1);

  --duration-fast: 0.2s;
  --duration-medium: 0.4s;
  --duration-slow: 0.8s;
  --duration-book: 1.2s;
}

html {
  font-size: 16px;
}

body {
  font-family: var(--font-sans);
  background: var(--bg);
  color: var(--text);
  min-height: 100vh;
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
}

::selection {
  background: var(--accent);
  color: var(--bg);
}

/* ═══════════════════════════════════════════════════════════
   CUSTOM CURSOR - Golden quill nib
   ═══════════════════════════════════════════════════════════ */

.cursor {
  position: fixed;
  width: 20px;
  height: 20px;
  pointer-events: none;
  z-index: 10000;
  /* Offset so the tip points at cursor position */
  transform: translate(-10%, -10%);
  will-change: transform, filter;
  transition: filter var(--duration-fast) var(--ease-out-expo);
}

/* Quill nib shape using borders */
.cursor::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 0;
  height: 0;
  /* Triangle pointing down-right (like a pen nib) */
  border-left: 3px solid transparent;
  border-right: 10px solid transparent;
  border-top: 18px solid;
  border-top-color: #d4a855;
  /* Rotate to angle like writing */
  transform: rotate(135deg);
  transform-origin: top left;
  filter: drop-shadow(0 0 3px rgba(212, 168, 85, 0.6));
}

/* Metallic sheen on the nib */
.cursor::after {
  content: '';
  position: absolute;
  top: 2px;
  left: 1px;
  width: 0;
  height: 0;
  border-left: 1px solid transparent;
  border-right: 4px solid transparent;
  border-top: 8px solid rgba(255, 240, 200, 0.7);
  transform: rotate(135deg);
  transform-origin: top left;
}

/* Brighten on hover */
.cursor.is-hovering,
.cursor.is-book {
  filter: brightness(1.2);
}

.cursor.is-hovering::before,
.cursor.is-book::before {
  filter: drop-shadow(0 0 6px rgba(212, 168, 85, 0.9))
          drop-shadow(0 0 12px rgba(255, 200, 120, 0.4));
}

/* Ink drop hint - subtle glow beneath */
.cursor-ring {
  position: fixed;
  width: 8px;
  height: 8px;
  background: radial-gradient(
    circle at center,
    rgba(30, 20, 10, 0.4) 0%,
    rgba(30, 20, 10, 0.2) 50%,
    transparent 70%
  );
  border: none;
  border-radius: 50%;
  pointer-events: none;
  z-index: 9998;
  transform: translate(-50%, -50%);
  opacity: 0;
  transition: opacity var(--duration-fast) var(--ease-out-expo);
  will-change: transform;
}

/* Show ink hint on hover */
.cursor-ring.is-hovering,
.cursor-ring.is-book {
  opacity: 1;
  width: 12px;
  height: 12px;
}

/* Hide cursor on touch devices */
@media (hover: none) and (pointer: coarse) {
  .cursor, .cursor-ring {
    display: none !important;
  }
}

body.has-custom-cursor,
body.has-custom-cursor * {
  cursor: none !important;
}

/* ═══════════════════════════════════════════════════════════
   COLLAPSED NAVIGATION
   ═══════════════════════════════════════════════════════════ */

.collapsed-nav {
  position: fixed;
  top: var(--space-md);
  left: var(--space-md);
  z-index: 1000;
  opacity: 0;
  transform: translateX(-10px);
  transition: transform var(--duration-slow) var(--ease-out-expo),
              opacity var(--duration-slow) var(--ease-out-expo);
}

.collapsed-nav.is-visible {
  transform: translateX(0);
  opacity: 1;
}

.nav-shelf-btn {
  height: 36px;
  padding: 0 var(--space-sm) 0 var(--space-xs);
  background: transparent;
  border: 1px solid var(--text-tertiary);
  border-radius: 4px;
  color: var(--text-secondary);
  display: flex;
  align-items: center;
  gap: 6px;
  font-family: var(--font-mono);
  font-size: 0.7rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  transition: all var(--duration-fast) var(--ease-out-expo);
}

.nav-shelf-btn:hover {
  border-color: var(--accent);
  color: var(--accent);
}

.nav-shelf-btn:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
}

.nav-shelf-btn svg {
  width: 16px;
  height: 16px;
}

.nav-books {
  display: flex;
  gap: var(--space-md);
}

.nav-book-btn {
  background: transparent;
  border: none;
  color: var(--text-secondary);
  font-family: var(--font-mono);
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  padding: var(--space-xs) var(--space-sm);
  transition: color var(--duration-fast) var(--ease-out-expo);
}

.nav-book-btn:hover,
.nav-book-btn.is-active {
  color: var(--accent);
}

.nav-book-btn:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
}

/* ═══════════════════════════════════════════════════════════
   BOOKSHELF SCENE
   ═══════════════════════════════════════════════════════════ */

.bookshelf-scene {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding-bottom: 5vh;
  padding-top: 10vh;
  position: relative;
  transition: transform var(--duration-book) var(--ease-in-out),
              opacity var(--duration-book) var(--ease-in-out);
}

.bookshelf-scene.is-hidden {
  opacity: 0;
  pointer-events: none;
}

/* Atmospheric Space - Clean dark with Edison bulb */
.atmosphere {
  position: absolute;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
  isolation: isolate;
}

/* Base layer - neutral dark, no brown */
.atmosphere::before {
  content: '';
  position: absolute;
  inset: 0;
  background:
    radial-gradient(
      ellipse 80% 70% at 50% 35%,
      #151413 0%,
      #0e0d0c 40%,
      #080807 70%,
      #030303 100%
    );
}

/* Subtle grain texture */
.atmosphere::after {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  opacity: 0.08;
  mix-blend-mode: overlay;
  pointer-events: none;
  z-index: 1;
}

/* Edison Bulb - Beautiful hanging light */
.edison-bulb {
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  flex-direction: column;
  align-items: center;
  z-index: 100;
}

/* Hanging cord */
.bulb-cord {
  width: 2px;
  height: 40px;
  background: linear-gradient(
    180deg,
    #1a1a18 0%,
    #252420 50%,
    #1a1a18 100%
  );
  border-radius: 1px;
}

/* Socket/base */
.bulb-socket {
  width: 18px;
  height: 22px;
  background: linear-gradient(
    180deg,
    #3d3530 0%,
    #2a2520 30%,
    #1f1a18 100%
  );
  border-radius: 3px 3px 4px 4px;
  box-shadow:
    inset 0 2px 3px rgba(255, 200, 150, 0.1),
    0 2px 4px rgba(0, 0, 0, 0.5);
  position: relative;
}

/* Socket ridges - subtle metallic texture */
.bulb-socket::before {
  content: '';
  position: absolute;
  top: 4px;
  left: 3px;
  right: 3px;
  height: 12px;
  background: repeating-linear-gradient(
    180deg,
    transparent 0px,
    transparent 2px,
    rgba(80, 70, 60, 0.3) 2px,
    rgba(50, 40, 35, 0.4) 3px
  );
  border-radius: 2px;
}

/* Glass bulb */
.bulb-glass {
  width: 44px;
  height: 70px;
  background: radial-gradient(
    ellipse 70% 60% at 50% 40%,
    rgba(255, 220, 180, 0.08) 0%,
    rgba(255, 200, 150, 0.04) 50%,
    rgba(255, 180, 120, 0.02) 100%
  );
  border: 1px solid rgba(255, 200, 150, 0.1);
  border-radius: 50% 50% 45% 45% / 40% 40% 60% 60%;
  position: relative;
  box-shadow:
    inset 0 0 20px rgba(255, 180, 120, 0.1),
    0 0 30px rgba(255, 160, 100, 0.15);
  margin-top: -2px;
}

/* Glass highlight - thin rim light along curved edge */
.bulb-glass::after {
  content: '';
  position: absolute;
  top: 8px;
  left: 4px;
  width: 12px;
  height: 35px;
  background: transparent;
  border-left: 1px solid rgba(255, 255, 255, 0.25);
  border-radius: 50% 0 0 50% / 50% 0 0 50%;
  transform: rotate(-10deg);
  pointer-events: none;
  filter: blur(0.5px);
}

/* Filament container */
.filament {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 20px;
  height: 35px;
}

/* Filament stem - connects socket to coil */
.filament-stem {
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 2px;
  height: 12px;
  background: linear-gradient(
    180deg,
    rgba(80, 60, 40, 0.8) 0%,
    rgba(255, 200, 120, 0.6) 100%
  );
}

/* Filament coil - the glowing part, hangs below stem */
.filament-coil {
  position: absolute;
  top: 10px;
  left: 50%;
  transform: translateX(-50%);
  width: 14px;
  height: 22px;
  background:
    /* Coil shape using gradients */
    radial-gradient(ellipse 100% 30% at 50% 15%, rgba(255, 200, 130, 0.9) 0%, transparent 70%),
    radial-gradient(ellipse 100% 30% at 50% 40%, rgba(255, 180, 100, 0.7) 0%, transparent 70%),
    radial-gradient(ellipse 100% 30% at 50% 65%, rgba(255, 200, 130, 0.9) 0%, transparent 70%),
    radial-gradient(ellipse 100% 30% at 50% 90%, rgba(255, 180, 100, 0.7) 0%, transparent 70%);
  filter: blur(0.5px);
  box-shadow: 0 0 8px rgba(255, 180, 100, 0.6);
  animation: filamentGlow 4s ease-in-out infinite;
}

@keyframes filamentGlow {
  0%, 100% { 
    opacity: 1;
    box-shadow: 0 0 8px rgba(255, 180, 100, 0.6);
  }
  50% { 
    opacity: 0.75;
    box-shadow: 0 0 12px rgba(255, 200, 120, 0.9);
  }
}

/* The soft glow emanating from bulb - radiates in all directions */
.bulb-glow {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 900px;
  height: 900px;
  background: radial-gradient(
    circle at 50% 50%,
    rgba(255, 190, 120, 0.25) 0%,
    rgba(255, 170, 100, 0.15) 10%,
    rgba(255, 150, 80, 0.08) 25%,
    rgba(255, 140, 70, 0.03) 45%,
    transparent 70%
  );
  pointer-events: none;
  contain: strict;
  animation: haloBreathe 4s ease-in-out 0.15s infinite;
}

/* Halo breathing - synced with filament but slightly delayed for light-travel effect */
@keyframes haloBreathe {
  0%, 100% { 
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
  50% { 
    opacity: 0.8;
    transform: translate(-50%, -50%) scale(1.02);
  }
}

/* Floating dust in light */
.bookshelf-scene::after {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  background-image:
    radial-gradient(1.5px 1.5px at 25% 30%, rgba(255,240,200,0.5) 0%, transparent 100%),
    radial-gradient(1px 1px at 45% 20%, rgba(255,235,180,0.4) 0%, transparent 100%),
    radial-gradient(2px 2px at 60% 35%, rgba(255,240,200,0.5) 0%, transparent 100%),
    radial-gradient(1px 1px at 75% 25%, rgba(255,230,170,0.35) 0%, transparent 100%),
    radial-gradient(1.5px 1.5px at 35% 45%, rgba(255,240,200,0.4) 0%, transparent 100%);
  animation: dustFloat 20s ease-in-out infinite;
  opacity: 0.6;
}

@keyframes dustFloat {
  0%, 100% { transform: translateY(0) translateX(0); }
  50% { transform: translateY(-8px) translateX(4px); }
}

/* ═══════════════════════════════════════════════════════════
   THE BOOKSHELF
   ═══════════════════════════════════════════════════════════ */

.bookshelf {
  width: 100%;
  max-width: 900px;
  margin: 0 auto;
  perspective: 1200px;
  position: relative;
}


/* Floor reflection - grounds everything */
.floor-reflection {
  width: 100%;
  max-width: 1000px;
  height: 120px;
  margin: 0 auto;
  margin-top: -10px;
  background:
    /* Reflection of shelf - very subtle */
    linear-gradient(
      180deg,
      rgba(30, 20, 15, 0.6) 0%,
      rgba(20, 15, 10, 0.3) 30%,
      transparent 100%
    );
  mask-image: linear-gradient(
    180deg,
    rgba(0,0,0,0.3) 0%,
    transparent 80%
  );
  -webkit-mask-image: linear-gradient(
    180deg,
    rgba(0,0,0,0.3) 0%,
    transparent 80%
  );
  filter: blur(2px);
  transform: scaleY(-0.3) translateY(-100%);
  transform-origin: top center;
  opacity: 0.4;
  pointer-events: none;
}

/* Hide SVG filters */
.svg-filters {
  position: absolute;
  width: 0;
  height: 0;
  overflow: hidden;
}

/* Books Container - packed tight, aligned to bottom like real shelf */
.books {
  display: flex;
  justify-content: center;
  align-items: flex-end;
  gap: 0;
  padding: 0 20px;
  margin-bottom: -2px;
  position: relative;
  z-index: 2;
}

/* Light overlay - radial falloff from bulb position (behind books) */
.light-overlay {
  position: absolute;
  top: -400px;
  left: 50%;
  transform: translateX(-50%);
  width: 800px;
  height: 800px;
  background: radial-gradient(
    circle at 50% 50%,
    rgba(255, 184, 112, 0.3) 0%,
    rgba(255, 170, 100, 0.2) 15%,
    rgba(255, 155, 85, 0.1) 30%,
    rgba(255, 140, 70, 0.04) 50%,
    transparent 70%
  );
  pointer-events: none;
  z-index: 1;
  mix-blend-mode: screen;
}


/* Individual Book */
.book {
  width: auto;
  height: auto;
  position: relative;
  transform-style: preserve-3d;
  transition: transform var(--duration-medium) var(--ease-out-back),
              filter var(--duration-medium) var(--ease-out-expo);
  border: none;
  background: none;
  padding: 0;
  cursor: pointer;
  pointer-events: auto;
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
}

/* Position-aware top lighting - varies based on distance from center light */
.book::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 2px 4px 4px 2px;
  pointer-events: none;
  z-index: 1;
  mix-blend-mode: soft-light;
}

/* Work (far left) - light catches right edge more */
.book:nth-child(1)::before {
  background: linear-gradient(
    160deg,
    rgba(255, 220, 180, 0.08) 0%,
    rgba(255, 200, 150, 0.12) 20%,
    transparent 50%
  );
}

/* About (center-left) - light slightly from right */
.book:nth-child(2)::before {
  background: linear-gradient(
    170deg,
    rgba(255, 220, 180, 0.1) 0%,
    rgba(255, 200, 150, 0.08) 20%,
    transparent 45%
  );
}

/* Contact (center) - light straight from above */
.book:nth-child(3)::before {
  background: linear-gradient(
    180deg,
    rgba(255, 220, 180, 0.14) 0%,
    rgba(255, 200, 150, 0.06) 15%,
    transparent 40%
  );
}

/* References (center-right) - light slightly from left */
.book:nth-child(4)::before {
  background: linear-gradient(
    190deg,
    rgba(255, 220, 180, 0.1) 0%,
    rgba(255, 200, 150, 0.08) 20%,
    transparent 45%
  );
}

/* Mystery (far right) - light catches left edge more */
.book:nth-child(5)::before {
  background: linear-gradient(
    200deg,
    rgba(255, 220, 180, 0.08) 0%,
    rgba(255, 200, 150, 0.12) 20%,
    transparent 50%
  );
}

.book-spine-img {
  height: auto;
  width: auto;
  max-height: 320px;
  display: block;
  border-radius: 2px 4px 4px 2px;
}

/* Position-aware shadows - angled based on light source position (centered above) */
/* Work (far left) - shadow angles right */
.book:nth-child(1) { 
  transform: rotate(-0.5deg);
  filter: drop-shadow(4px 8px 15px rgba(0, 0, 0, 0.6));
}
/* About (center-left) - shadow slightly right */
.book:nth-child(2) { 
  transform: rotate(0.3deg);
  filter: drop-shadow(2px 8px 15px rgba(0, 0, 0, 0.55));
}
/* Contact (center) - shadow straight down */
.book:nth-child(3) { 
  transform: rotate(-0.2deg);
  filter: drop-shadow(0px 8px 14px rgba(0, 0, 0, 0.5));
}
/* References (center-right) - shadow slightly left */
.book:nth-child(4) { 
  transform: rotate(0.4deg);
  filter: drop-shadow(-2px 8px 15px rgba(0, 0, 0, 0.55));
}
/* Mystery (far right) - shadow angles left */
.book:nth-child(5) { 
  transform: rotate(0.2deg);
  filter: drop-shadow(-4px 8px 15px rgba(0, 0, 0, 0.6));
}

.book:hover {
  transform: translateY(-12px) rotate(0deg);
  filter: drop-shadow(0px 12px 20px rgba(0, 0, 0, 0.6));
  z-index: 10;
}

.book:focus {
  outline: none;
}

.book:focus-visible {
  transform: translateY(-12px) rotate(0deg);
  outline: 2px solid var(--accent);
  outline-offset: 4px;
}

.book:active {
  transform: translateY(-6px) rotate(0deg);
}


/* Book Spine (front face) - Weathered manuscript style */
.book-spine {
  position: absolute;
  inset: 0;
  border-radius: 2px 4px 4px 2px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow:
    inset -4px 0 12px rgba(0, 0, 0, 0.4),
    inset 3px 0 6px rgba(255, 255, 255, 0.05),
    inset 0 2px 4px rgba(255, 255, 255, 0.1),
    inset 0 -2px 4px rgba(0, 0, 0, 0.2),
    3px 6px 16px rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

/* Cloth/leather texture overlay */
.book-spine::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image:
    repeating-linear-gradient(
      0deg,
      transparent 0px,
      transparent 2px,
      rgba(0, 0, 0, 0.03) 2px,
      rgba(0, 0, 0, 0.03) 4px
    ),
    repeating-linear-gradient(
      90deg,
      transparent 0px,
      transparent 1px,
      rgba(255, 255, 255, 0.02) 1px,
      rgba(255, 255, 255, 0.02) 2px
    );
  pointer-events: none;
}

/* Spine bands (horizontal ridges) */
.book-spine::after {
  content: '';
  position: absolute;
  inset: 0;
  background:
    linear-gradient(
      to bottom,
      transparent 0%,
      transparent 8%,
      rgba(0, 0, 0, 0.15) 8%,
      rgba(255, 255, 255, 0.05) 9%,
      transparent 10%,
      transparent 14%,
      rgba(0, 0, 0, 0.1) 14%,
      rgba(255, 255, 255, 0.03) 15%,
      transparent 16%,
      transparent 84%,
      rgba(0, 0, 0, 0.1) 84%,
      rgba(255, 255, 255, 0.03) 85%,
      transparent 86%,
      transparent 90%,
      rgba(0, 0, 0, 0.15) 90%,
      rgba(255, 255, 255, 0.05) 91%,
      transparent 92%
    );
  pointer-events: none;
}

/* Book-specific colors - Weathered Harvard manuscript feel */

/* Work - Deep Navy Blue (like law/business volumes) */
.book[data-book="work"] .book-spine {
  background:
    linear-gradient(
      90deg,
      rgba(0,0,0,0.2) 0%,
      transparent 20%,
      transparent 80%,
      rgba(0,0,0,0.15) 100%
    ),
    linear-gradient(
      180deg,
      rgba(255,255,255,0.06) 0%,
      transparent 20%,
      transparent 80%,
      rgba(0,0,0,0.15) 100%
    ),
    linear-gradient(
      90deg,
      #0d1f33 0%,
      #1a3652 25%,
      #234668 50%,
      #1a3652 75%,
      #0d1f33 100%
    );
}

/* About - Rich Burgundy (like classic literature) */
.book[data-book="about"] .book-spine {
  background:
    linear-gradient(
      90deg,
      rgba(0,0,0,0.2) 0%,
      transparent 20%,
      transparent 80%,
      rgba(0,0,0,0.15) 100%
    ),
    linear-gradient(
      180deg,
      rgba(255,255,255,0.06) 0%,
      transparent 20%,
      transparent 80%,
      rgba(0,0,0,0.15) 100%
    ),
    linear-gradient(
      90deg,
      #2a1215 0%,
      #4a2228 25%,
      #5c2d34 50%,
      #4a2228 75%,
      #2a1215 100%
    );
}

/* Contact - Forest Green (like natural philosophy) */
.book[data-book="contact"] .book-spine {
  background:
    linear-gradient(
      90deg,
      rgba(0,0,0,0.2) 0%,
      transparent 20%,
      transparent 80%,
      rgba(0,0,0,0.15) 100%
    ),
    linear-gradient(
      180deg,
      rgba(255,255,255,0.06) 0%,
      transparent 20%,
      transparent 80%,
      rgba(0,0,0,0.15) 100%
    ),
    linear-gradient(
      90deg,
      #0f1f14 0%,
      #1a3624 25%,
      #24462e 50%,
      #1a3624 75%,
      #0f1f14 100%
    );
}

/* Spine Text - Gold foil embossed effect */
.spine-text {
  writing-mode: vertical-rl;
  text-orientation: mixed;
  transform: rotate(180deg);
  font-family: var(--font-serif);
  font-size: 1.15rem;
  font-weight: 600;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  /* Gold foil effect */
  background: linear-gradient(
    180deg,
    #d4a855 0%,
    #f5d98a 25%,
    #c9973d 50%,
    #f5d98a 75%,
    #d4a855 100%
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  /* Embossed shadow */
  filter: drop-shadow(0 1px 0 rgba(0, 0, 0, 0.5))
          drop-shadow(0 -1px 0 rgba(255, 255, 255, 0.1));
}

/* Book Edge (page edges) - Aged paper look */
.book-edge {
  position: absolute;
  right: -10px;
  top: 3px;
  bottom: 3px;
  width: 10px;
  background: linear-gradient(
    90deg,
    #c4baa8 0%,
    #e8dcc8 20%,
    #f0e6d6 50%,
    #e8dcc8 80%,
    #d4c8b4 100%
  );
  border-radius: 0 2px 2px 0;
  transform: rotateY(-90deg);
  transform-origin: left center;
  box-shadow: inset 0 0 8px rgba(139, 109, 76, 0.2);
}

/* Page lines effect on edge - irregular aged pages */
.book-edge::before {
  content: '';
  position: absolute;
  inset: 4px 1px;
  background: repeating-linear-gradient(
    to bottom,
    transparent 0px,
    transparent 1px,
    rgba(139, 109, 76, 0.15) 1px,
    rgba(139, 109, 76, 0.15) 2px,
    transparent 2px,
    transparent 3px,
    rgba(139, 109, 76, 0.1) 3px,
    rgba(139, 109, 76, 0.1) 4px
  );
}

/* Foxing/age spots on page edges */
.book-edge::after {
  content: '';
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 30% 20%, rgba(139, 109, 76, 0.15) 0%, transparent 30%),
    radial-gradient(circle at 70% 60%, rgba(139, 109, 76, 0.1) 0%, transparent 25%),
    radial-gradient(circle at 50% 85%, rgba(139, 109, 76, 0.12) 0%, transparent 20%);
  pointer-events: none;
}

/* Mystery Book (Coming Soon) */
.book-mystery {
  opacity: 0.6;
  filter: saturate(0.3);
  cursor: not-allowed !important;
}

.book-mystery .book-spine {
  background: linear-gradient(
    90deg,
    #2a2a2a 0%,
    #3a3a3a 50%,
    #2a2a2a 100%
  );
  position: relative;
  overflow: visible;
}

.book-mystery .spine-text {
  color: var(--text-tertiary);
  font-size: 1rem;
  letter-spacing: 0.3em;
}

.book-mystery:hover {
  opacity: 0.75;
  transform: translateY(-5px) rotateY(-2deg);
  filter: saturate(0.5);
}

.book-mystery:hover .spine-text {
  color: var(--accent);
}

.mystery-glow {
  position: absolute;
  inset: -10px;
  background: radial-gradient(
    ellipse at center,
    rgba(78, 205, 196, 0.15) 0%,
    transparent 70%
  );
  opacity: 0;
  transition: opacity var(--duration-medium) var(--ease-out-expo);
  pointer-events: none;
}

.book-mystery:hover .mystery-glow {
  opacity: 1;
}

/* Book Hover Glow Effect */
.book::before {
  content: '';
  position: absolute;
  bottom: -20px;
  left: 50%;
  transform: translateX(-50%);
  width: 80%;
  height: 30px;
  background: radial-gradient(
    ellipse 100% 100% at 50% 0%,
    rgba(255, 200, 150, 0.3) 0%,
    transparent 70%
  );
  opacity: 0;
  transition: opacity var(--duration-medium) var(--ease-out-expo);
  pointer-events: none;
}

.book:hover::before {
  opacity: 1;
}

.book-mystery::before {
  background: radial-gradient(
    ellipse 100% 100% at 50% 0%,
    rgba(78, 205, 196, 0.2) 0%,
    transparent 70%
  );
}

/* Staggered Entrance Animation */
@keyframes bookSlideIn {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes bookSlideInMystery {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 0.6;
    transform: translateY(0);
  }
}

.books .book {
  animation: bookSlideIn 0.8s var(--ease-out-expo) both;
}

.books .book:nth-child(1) { animation-delay: 0.1s; }
.books .book:nth-child(2) { animation-delay: 0.2s; }
.books .book:nth-child(3) { animation-delay: 0.3s; }
.books .book:nth-child(4) {
  animation: bookSlideInMystery 0.8s var(--ease-out-expo) both;
  animation-delay: 0.5s;
}

/* Subtle idle animation - hints interactivity */
@keyframes bookBreathe {
  0%, 100% {
    transform: translateY(0) rotate(var(--book-rotate, 0deg));
  }
  50% {
    transform: translateY(-2px) rotate(var(--book-rotate, 0deg));
  }
}

.books .book:not(:hover) {
  --book-rotate: -0.5deg;
}

.books .book:nth-child(1) { --book-rotate: -0.5deg; }
.books .book:nth-child(2) { --book-rotate: 0.3deg; }
.books .book:nth-child(3) { --book-rotate: -0.2deg; }
.books .book:nth-child(4) { --book-rotate: 0.4deg; }

/* After entrance animation, add subtle breathe */
.books .book {
  animation:
    bookSlideIn 0.8s var(--ease-out-expo) both,
    bookBreathe 4s ease-in-out 1.5s infinite;
  will-change: transform;
}

.books .book:hover {
  animation-play-state: paused, paused;
}

.books .book:nth-child(4) {
  animation:
    bookSlideInMystery 0.8s var(--ease-out-expo) both,
    bookBreathe 4s ease-in-out 2s infinite;
}

/* Shelf also fades in */
@keyframes shelfFadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.shelf-surface {
  opacity: 0;
  animation: shelfFadeIn 0.6s var(--ease-out-expo) forwards;
}

.nameplate {
  opacity: 0;
  animation: shelfFadeIn 0.6s var(--ease-out-expo) 0.4s forwards;
}

/* ═══════════════════════════════════════════════════════════
   SHELF SURFACE - Rich mahogany with depth
   ═══════════════════════════════════════════════════════════ */

.shelf-surface {
  position: relative;
  width: 100%;
  max-width: 800px;
  margin: 0 auto;
}

/* Shelf Top - polished wood surface catching the light */
.shelf-top {
  height: 24px;
  background:
    /* Subtle light reflection from lamp */
    radial-gradient(
      ellipse 40% 100% at 50% 0%,
      rgba(255, 200, 150, 0.15) 0%,
      transparent 70%
    ),
    /* Rich wood gradient */
    linear-gradient(
      180deg,
      #6b4423 0%,
      #5c3a1e 30%,
      #4a2c16 70%,
      #3d2212 100%
    );
  border-radius: 4px 4px 0 0;
  box-shadow:
    0 -3px 15px rgba(255, 200, 150, 0.08),
    inset 0 2px 3px rgba(255, 255, 255, 0.15),
    inset 0 -1px 2px rgba(0, 0, 0, 0.2);
  position: relative;
}

/* Wood grain texture on top */
.shelf-top::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 4px 4px 0 0;
  background:
    /* Fine grain lines */
    repeating-linear-gradient(
      90deg,
      transparent 0px,
      transparent 25px,
      rgba(90, 60, 30, 0.3) 25px,
      rgba(90, 60, 30, 0.15) 27px,
      transparent 28px,
      transparent 45px,
      rgba(80, 50, 25, 0.2) 45px,
      rgba(80, 50, 25, 0.1) 46px,
      transparent 47px,
      transparent 80px
    ),
    /* Subtle knot pattern */
    radial-gradient(
      ellipse 8px 4px at 25% 50%,
      rgba(60, 35, 15, 0.3) 0%,
      transparent 100%
    ),
    radial-gradient(
      ellipse 6px 3px at 75% 60%,
      rgba(60, 35, 15, 0.2) 0%,
      transparent 100%
    );
}

/* Glossy reflection strip on shelf edge */
.shelf-top::after {
  content: '';
  position: absolute;
  top: 2px;
  left: 10%;
  right: 10%;
  height: 2px;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 240, 220, 0.2) 20%,
    rgba(255, 245, 230, 0.35) 50%,
    rgba(255, 240, 220, 0.2) 80%,
    transparent 100%
  );
  border-radius: 1px;
}

/* Shelf Front - deep shadow, vertical wood grain */
.shelf-front {
  height: 90px;
  background:
    /* Vertical grain pattern */
    repeating-linear-gradient(
      180deg,
      transparent 0px,
      transparent 8px,
      rgba(0, 0, 0, 0.05) 8px,
      rgba(0, 0, 0, 0.05) 10px,
      transparent 10px,
      transparent 20px
    ),
    /* Base gradient */
    linear-gradient(
      180deg,
      #4a2c16 0%,
      #3d2212 20%,
      #2d1810 60%,
      #1a0f0a 100%
    );
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow:
    /* Top shadow from shelf overhang */
    inset 0 8px 16px rgba(0, 0, 0, 0.5),
    /* Depth shadow below */
    0 15px 40px rgba(0, 0, 0, 0.6),
    0 5px 15px rgba(0, 0, 0, 0.4);
  position: relative;
}

/* Vertical wood grain detail */
.shelf-front::before {
  content: '';
  position: absolute;
  inset: 0;
  background:
    repeating-linear-gradient(
      90deg,
      transparent 0px,
      transparent 50px,
      rgba(0, 0, 0, 0.08) 50px,
      rgba(0, 0, 0, 0.04) 52px,
      transparent 53px,
      transparent 90px,
      rgba(0, 0, 0, 0.06) 90px,
      rgba(0, 0, 0, 0.03) 91px,
      transparent 92px,
      transparent 140px
    );
}

/* Subtle edge highlight */
.shelf-front::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(120, 80, 50, 0.4) 20%,
    rgba(140, 100, 60, 0.5) 50%,
    rgba(120, 80, 50, 0.4) 80%,
    transparent 100%
  );
}

/* ═══════════════════════════════════════════════════════════
   NAMEPLATE
   ═══════════════════════════════════════════════════════════ */

.nameplate {
  background: linear-gradient(
    180deg,
    #d4b896 0%,
    #c4a574 20%,
    #a08050 60%,
    #8a6a40 100%
  );
  padding: 14px 40px;
  border-radius: 3px;
  text-align: center;
  box-shadow:
    inset 0 2px 4px rgba(255, 255, 255, 0.25),
    inset 0 -2px 4px rgba(0, 0, 0, 0.2),
    0 4px 12px rgba(0, 0, 0, 0.4),
    0 1px 3px rgba(0, 0, 0, 0.3);
  position: relative;
}

/* Engraved border effect */
.nameplate::before {
  content: '';
  position: absolute;
  inset: 3px;
  border: 1px solid rgba(0, 0, 0, 0.12);
  border-top-color: rgba(255, 255, 255, 0.15);
  border-radius: 2px;
}

/* Subtle shine across nameplate */
.nameplate::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.08) 0%, transparent 100%);
  border-radius: 3px 3px 0 0;
  pointer-events: none;
}

/* Decorative screws on nameplate corners */
.nameplate-screw {
  position: absolute;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background:
    radial-gradient(circle at 35% 35%, #d4b070 0%, #a08040 40%, #705020 100%);
  box-shadow:
    inset 0 1px 1px rgba(255, 255, 255, 0.4),
    inset 0 -1px 1px rgba(0, 0, 0, 0.3),
    0 1px 2px rgba(0, 0, 0, 0.3);
  z-index: 2;
}

/* Screw slot */
.nameplate-screw::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 5px;
  height: 1px;
  background: rgba(0, 0, 0, 0.4);
  transform: translate(-50%, -50%);
  border-radius: 0.5px;
}

/* Position each screw */
.nameplate-screw-tl { top: 6px; left: 6px; }
.nameplate-screw-tr { top: 6px; right: 6px; }
.nameplate-screw-bl { bottom: 6px; left: 6px; }
.nameplate-screw-br { bottom: 6px; right: 6px; }

.nameplate-name {
  display: block;
  font-family: var(--font-serif);
  font-size: 1.2rem;
  font-weight: 600;
  color: #1a0f0a;
  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.35);
  letter-spacing: 0.1em;
  margin-bottom: 4px;
  position: relative;
  z-index: 1;
}

.nameplate-title {
  display: block;
  font-family: var(--font-mono);
  font-size: 0.55rem;
  color: #3d2212;
  text-transform: uppercase;
  letter-spacing: 0.2em;
  position: relative;
  z-index: 1;
}

/* Interaction hint for first-time visitors */
.interaction-hint {
  display: block;
  text-align: center;
  margin-top: var(--space-md);
  font-family: var(--font-serif);
  font-size: 1.4rem;
  font-style: italic;
  color: rgba(255, 220, 180, 0.6);
  letter-spacing: 0.05em;
  opacity: 0;
  animation: hintFadeIn 1.2s ease-out 1.5s forwards, hintGlow 6s ease-in-out 2.7s infinite;
}

@keyframes hintFadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Calm pulse: 100% → 75% → glow peak → 100% */
@keyframes hintGlow {
  0%, 100% {
    opacity: 1;
    text-shadow: none;
  }
  40% {
    opacity: 0.75;
    text-shadow: none;
  }
  55% {
    opacity: 1;
    text-shadow: 0 0 8px rgba(255, 220, 180, 0.4);
  }
  70% {
    opacity: 1;
    text-shadow: none;
  }
}

/* Hint on mobile - keep readable */
@media (max-width: 600px) {
  .interaction-hint {
    font-size: 1.1rem;
    margin-top: var(--space-sm);
  }
}

/* ═══════════════════════════════════════════════════════════
   BOOK VIEW (Open Book State)
   ═══════════════════════════════════════════════════════════ */

.book-view {
  position: fixed;
  inset: 0;
  background: var(--bg);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--space-md);
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.3s ease, visibility 0.3s ease;
}

.book-view.is-visible {
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
  cursor: pointer;
}

/* Book container shouldn't trigger close */
.book-view .book-container,
.book-view .page-nav {
  cursor: default;
}

/* Warm ambient light from above - Edison bulb continuity */
.book-view::before {
  content: '';
  position: fixed;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 800px;
  height: 500px;
  background: radial-gradient(
    ellipse 60% 80% at 50% 0%,
    rgba(255, 190, 130, 0.12) 0%,
    rgba(255, 170, 100, 0.06) 40%,
    transparent 70%
  );
  pointer-events: none;
  z-index: 0;
}

/* Book Container */
.book-container {
  display: flex;
  align-items: center;
  justify-content: center;
  max-width: 1200px;
  width: 100%;
  height: calc(100vh - 140px);
  max-height: 800px;
  perspective: 1800px;
}

/* Page Edge Effects - solid cover with page edges */
.page-edge {
  width: 20px;
  height: 92%;
  flex-shrink: 0;
  position: relative;
  display: flex;
}

/* Left edge: Cover (outer) + Pages (inner) */
.page-edge-left {
  border-radius: 4px 0 0 4px;
  overflow: hidden;
}

/* Solid cover portion - left */
.page-edge-left::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 10px;
  background: var(--book-work);
  border-radius: 4px 0 0 4px;
  box-shadow: 
    inset -2px 0 4px rgba(0, 0, 0, 0.4),
    inset 2px 0 3px rgba(255, 255, 255, 0.1);
}

/* Page edges portion - left */
.page-edge-left::after {
  content: '';
  position: absolute;
  right: 0;
  top: 2px;
  bottom: 2px;
  width: 10px;
  background:
    repeating-linear-gradient(
      to bottom,
      #f8f4ec 0px,
      #f8f4ec 1px,
      #e8e0d4 1px,
      #e8e0d4 2px
    ),
    linear-gradient(90deg, #d0c8bc 0%, #f0ebe0 100%);
  box-shadow: inset 2px 0 3px rgba(0, 0, 0, 0.1);
}

/* Right edge: Pages (inner) + Cover (outer) */
.page-edge-right {
  border-radius: 0 4px 4px 0;
  overflow: hidden;
}

/* Page edges portion - right */
.page-edge-right::before {
  content: '';
  position: absolute;
  left: 0;
  top: 2px;
  bottom: 2px;
  width: 10px;
  background:
    repeating-linear-gradient(
      to bottom,
      #f8f4ec 0px,
      #f8f4ec 1px,
      #e8e0d4 1px,
      #e8e0d4 2px
    ),
    linear-gradient(90deg, #f0ebe0 0%, #d0c8bc 100%);
  box-shadow: inset -2px 0 3px rgba(0, 0, 0, 0.1);
}

/* Solid cover portion - right */
.page-edge-right::after {
  content: '';
  position: absolute;
  right: 0;
  top: 0;
  bottom: 0;
  width: 10px;
  background: var(--book-work);
  border-radius: 0 4px 4px 0;
  box-shadow: 
    inset 2px 0 4px rgba(0, 0, 0, 0.4),
    inset -2px 0 3px rgba(255, 255, 255, 0.1);
}

/* Overall edge shadows */
.page-edge-left {
  box-shadow: -4px 0 12px rgba(0, 0, 0, 0.35);
}

.page-edge-right {
  box-shadow: 4px 0 12px rgba(0, 0, 0, 0.35);
}

/* Book-specific cover colors */
.book-view[data-active-book="work"] .page-edge-left::before,
.book-view[data-active-book="work"] .page-edge-right::after {
  background: var(--book-work);
}

.book-view[data-active-book="about"] .page-edge-left::before,
.book-view[data-active-book="about"] .page-edge-right::after {
  background: var(--book-about);
}

.book-view[data-active-book="contact"] .page-edge-left::before,
.book-view[data-active-book="contact"] .page-edge-right::after {
  background: var(--book-contact);
}

.book-view[data-active-book="references"] .page-edge-left::before,
.book-view[data-active-book="references"] .page-edge-right::after {
  background: var(--book-references);
}

.book-view[data-active-book="mystery"] .page-edge-left::before,
.book-view[data-active-book="mystery"] .page-edge-right::after {
  background: var(--book-mystery);
}

/* Open Book - mild V shape like holding a real book */
.open-book {
  flex: 1;
  height: 100%;
  min-height: 500px; /* Ensure readable height on ultrawide monitors */
  display: flex;
  background: var(--page-bg);
  box-shadow:
    /* Soft ambient shadow - furthest */
    0 25px 60px rgba(0, 0, 0, 0.25),
    /* Medium spread shadow */
    0 15px 35px rgba(0, 0, 0, 0.2),
    /* Tight contact shadow */
    0 5px 15px rgba(0, 0, 0, 0.15),
    /* Soft glow for depth */
    0 0 80px rgba(0, 0, 0, 0.2);
  position: relative;
  z-index: 1;
  transform-style: preserve-3d;
}

/* Warm light hitting the top of the book */
.open-book::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 150px;
  background: linear-gradient(
    180deg,
    rgba(255, 200, 150, 0.08) 0%,
    rgba(255, 190, 140, 0.03) 50%,
    transparent 100%
  );
  pointer-events: none;
  z-index: 10;
  border-radius: 2px 2px 0 0;
}

/* Pages */
.page {
  flex: 1;
  padding: 2.125rem;
  position: relative;
  overflow-x: hidden;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  display: flex;
  flex-direction: column;
  background:
    /* Subtle warm tint variation - like aged paper */
    linear-gradient(
      180deg,
      #f8f4ec 0%,
      #f6f2ea 50%,
      #f4f0e6 100%
    );
}

/* Paper texture overlay - extremely subtle */
.page::after {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  opacity: 0.03;
  pointer-events: none;
  mix-blend-mode: multiply;
}

/* Left page - tilts up slightly, shadow toward spine */
.page-left {
  border-right: none;
  box-shadow: inset -20px 0 30px -15px rgba(0, 0, 0, 0.1);
  transform: rotateY(3deg);
  transform-origin: right center;
}

/* Right page - tilts up slightly, shadow toward spine */
.page-right {
  border-left: none;
  box-shadow: inset 20px 0 30px -15px rgba(0, 0, 0, 0.1);
  transform: rotateY(-3deg);
  transform-origin: left center;
}

/* Page Content Area */
.page-content {
  color: var(--page-text);
  font-family: var(--font-serif);
  line-height: 1.7;
  max-width: 440px;
  margin: 0 auto;
  padding: 1.25rem;
  flex: 1;
  min-height: 0; /* Safari flexbox fix */
}

/* Subtle scrollbar for page content overflow */
.page::-webkit-scrollbar {
  width: 6px;
}

.page::-webkit-scrollbar-track {
  background: transparent;
}

.page::-webkit-scrollbar-thumb {
  background: rgba(42, 37, 32, 0.2);
  border-radius: 3px;
}

.page::-webkit-scrollbar-thumb:hover {
  background: rgba(42, 37, 32, 0.35);
}

/* Book page articles */
.book-page {
  animation: pageContentFadeIn 0.4s var(--ease-out-expo) forwards;
}

@keyframes pageContentFadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Page Curl Effect - Interactive page turn triggers */
.page-curl {
  position: absolute;
  bottom: 0;
  width: 80px;
  height: 80px;
  pointer-events: auto;
  cursor: pointer;
  transition: transform var(--duration-fast) var(--ease-out-expo),
              filter var(--duration-fast) var(--ease-out-expo);
  z-index: 10;
}

.page-curl:hover {
  transform: scale(1.1);
  filter: brightness(0.95);
}

.page-curl:active {
  transform: scale(1.05);
}

.page-curl.is-disabled {
  pointer-events: none;
  opacity: 0.3;
  cursor: default;
}

.page-curl:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
}

.page-left .page-curl {
  left: 0;
  background:
    linear-gradient(
      -45deg,
      transparent 48%,
      #e8e0d4 49%,
      #ddd5c8 52%,
      rgba(0, 0, 0, 0.08) 52%,
      rgba(0, 0, 0, 0.03) 60%,
      transparent 70%
    );
  box-shadow: 2px -2px 5px rgba(0, 0, 0, 0.1);
}

.page-left .page-curl:hover {
  transform: scale(1.1) rotate(-3deg);
}

.page-right .page-curl {
  right: 0;
  background:
    linear-gradient(
      45deg,
      transparent 48%,
      #e8e0d4 49%,
      #ddd5c8 52%,
      rgba(0, 0, 0, 0.08) 52%,
      rgba(0, 0, 0, 0.03) 60%,
      transparent 70%
    );
  box-shadow: -2px -2px 5px rgba(0, 0, 0, 0.1);
}

.page-right .page-curl:hover {
  transform: scale(1.1) rotate(3deg);
}

/* Page Numbers - Harvard Press style */
.page-number {
  position: absolute;
  top: var(--space-md);
  font-family: var(--font-serif);
  font-size: 0.8rem;
  font-variant-numeric: oldstyle-nums;
  color: var(--page-secondary);
  pointer-events: none;
}

.page-number-left {
  left: var(--space-lg);
}

.page-number-right {
  right: var(--space-lg);
}

/* Running Header - scholarly small caps */
.running-header {
  position: absolute;
  top: var(--space-lg);
  right: var(--space-xl);
  font-family: var(--font-serif);
  font-size: 0.65rem;
  font-variant: small-caps;
  letter-spacing: 0.15em;
  color: var(--page-tertiary);
  pointer-events: none;
}

/* Center Spine - deep book binding */
.book-spine-center {
  width: 24px;
  background:
    /* Stitching line hint */
    repeating-linear-gradient(
      180deg,
      transparent 0px,
      transparent 8px,
      rgba(120, 100, 80, 0.15) 8px,
      rgba(120, 100, 80, 0.15) 10px
    ),
    /* Deep gutter shadow */
    linear-gradient(
      90deg,
      #b8ad9d 0%,
      #a89d8d 15%,
      #8a7d6d 40%,
      #7a6d5d 50%,
      #8a7d6d 60%,
      #a89d8d 85%,
      #b8ad9d 100%
    );
  box-shadow:
    inset 6px 0 12px rgba(0, 0, 0, 0.35),
    inset -6px 0 12px rgba(0, 0, 0, 0.35),
    inset 0 3px 6px rgba(0, 0, 0, 0.2);
  flex-shrink: 0;
  position: relative;
}

/* Spine highlight from above */
.book-spine-center::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 60px;
  background: linear-gradient(
    180deg,
    rgba(255, 220, 180, 0.15) 0%,
    transparent 100%
  );
  pointer-events: none;
}

/* ═══════════════════════════════════════════════════════════
   PAGE NAVIGATION
   ═══════════════════════════════════════════════════════════ */

.page-nav {
  display: flex;
  align-items: center;
  gap: var(--space-md);
  margin-top: var(--space-lg);
}

.page-nav-btn {
  width: 44px;
  height: 44px;
  background: transparent;
  border: 1px solid var(--text-tertiary);
  border-radius: 50%;
  color: var(--text);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all var(--duration-fast) var(--ease-out-expo);
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
}

.page-nav-btn:hover:not(:disabled) {
  border-color: var(--accent);
  color: var(--accent);
  transform: scale(1.05);
}

.page-nav-btn:active:not(:disabled) {
  transform: scale(0.98);
}

.page-nav-btn:disabled {
  opacity: 0.3;
}

.page-nav-btn:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
}

.page-nav-btn svg {
  width: 20px;
  height: 20px;
}

.page-indicator {
  font-family: var(--font-mono);
  font-size: 0.8rem;
  color: var(--text-secondary);
  display: flex;
  gap: 0.5em;
}

.page-sep {
  color: var(--text-tertiary);
}

/* ═══════════════════════════════════════════════════════════
   BOOK PAGE CONTENT STYLES
   ═══════════════════════════════════════════════════════════ */

/* Project Pages */
.project-header {
  margin-bottom: var(--space-lg);
  padding-bottom: var(--space-md);
  border-bottom: 1px solid rgba(42, 37, 32, 0.1);
  position: relative;
}

/* Elegant accent line */
.project-header::after {
  content: '';
  position: absolute;
  bottom: -1px;
  left: 0;
  width: 60px;
  height: 2px;
  background: linear-gradient(90deg, var(--page-text) 0%, transparent 100%);
}

.project-label {
  display: block;
  font-family: var(--font-serif);
  font-size: 0.75rem;
  font-variant: small-caps;
  color: var(--page-secondary);
  letter-spacing: 0.12em;
  margin-bottom: var(--space-sm);
  padding-bottom: var(--space-xs);
  border-bottom: 1px solid var(--page-rule);
}

.project-title {
  font-family: var(--font-serif);
  font-size: 1.8rem;
  font-weight: 600;
  color: var(--page-text);
  line-height: 1.2;
  letter-spacing: -0.01em;
}

.project-description {
  font-size: 1.05rem;
  color: var(--page-secondary);
  margin-bottom: var(--space-md);
  line-height: 1.75;
}

.project-description strong {
  color: var(--page-text);
  font-weight: 600;
}

/* Chapter Ornament - scholarly flourish */
.chapter-ornament {
  display: block;
  text-align: center;
  margin: var(--space-lg) 0;
  color: var(--page-secondary);
  font-size: 1rem;
  letter-spacing: 0.5em;
  opacity: 0.4;
}

.chapter-ornament::before {
  content: '✦';
}

/* Advisory List (Other Advisory page) */
.advisory-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
}

.advisory-list .project-description {
  padding-left: var(--space-md);
  border-left: 2px solid var(--page-rule);
  margin-bottom: 0;
}

.advisory-list .project-description:last-child {
  border-left: none;
  padding-left: 0;
  font-style: italic;
  margin-top: var(--space-sm);
}

.project-image {
  margin-bottom: var(--space-md);
}

.image-placeholder {
  aspect-ratio: 16/10;
  background: linear-gradient(
    135deg,
    #e0d8cc 0%,
    #d4ccc0 100%
  );
  border-radius: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: var(--font-mono);
  font-size: 0.75rem;
  color: var(--page-secondary);
  text-transform: uppercase;
  letter-spacing: 0.1em;
}

.project-meta {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-sm);
  margin-top: var(--space-lg);
  padding: var(--space-md) 0;
  border-top: 1px solid rgba(42, 37, 32, 0.15);
  border-bottom: 1px solid rgba(42, 37, 32, 0.15);
}

.meta-item {
  text-align: center;
  padding: var(--space-xs);
}

.meta-label {
  display: block;
  font-family: var(--font-serif);
  font-size: 0.65rem;
  font-variant: small-caps;
  color: var(--page-secondary);
  letter-spacing: 0.1em;
  margin-bottom: 4px;
}

.meta-value {
  font-family: var(--font-serif);
  font-size: 1.1rem;
  font-weight: 600;
  font-variant-numeric: oldstyle-nums;
  color: var(--page-text);
  letter-spacing: -0.01em;
}

.project-link {
  display: inline-block;
  font-family: var(--font-mono);
  font-size: 0.75rem;
  color: var(--page-text);
  text-decoration: none;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  padding: var(--space-xs) var(--space-sm);
  border: 1px solid var(--page-text);
  border-radius: 2px;
  transition: all var(--duration-fast) var(--ease-out-expo);
}

.project-link:hover {
  background: var(--page-text);
  color: var(--page-bg);
}

/* ═══════════════════════════════════════════════════════════
   TWO-PAGE SPREADS - Chapter Dividers & Role Details
   ═══════════════════════════════════════════════════════════ */

/* Spread container */
.spread-left,
.spread-right {
  height: 100%;
  min-height: 0; /* Safari flexbox fix */
}

/* Chapter Divider (Left Page) */
.chapter-divider {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: flex-start;
  padding: var(--space-lg) var(--space-md);
}

.chapter-period {
  font-family: var(--font-serif);
  font-size: 0.7rem;
  font-variant: small-caps;
  color: var(--page-secondary);
  letter-spacing: 0.12em;
  margin-bottom: var(--space-sm);
  padding-bottom: var(--space-xs);
  border-bottom: 1px solid var(--page-rule);
}

.chapter-company {
  font-family: var(--font-serif);
  font-size: 1.7rem;
  font-weight: 600;
  color: var(--page-text);
  line-height: 1.15;
  margin-bottom: 4px;
  letter-spacing: -0.01em;
}

.chapter-company a {
  color: inherit;
  text-decoration: none;
  border-bottom: 1px solid transparent;
  transition: border-color var(--duration-fast) ease;
}

.chapter-company a:hover {
  border-bottom-color: var(--accent-maroon);
}

.chapter-backing a {
  color: inherit;
  text-decoration: none;
  border-bottom: 1px dotted var(--page-tertiary);
  transition: border-color var(--duration-fast) ease;
}

.chapter-backing a:hover {
  border-bottom-color: var(--accent-maroon);
}

.chapter-role {
  font-family: var(--font-serif);
  font-size: 0.95rem;
  font-style: italic;
  color: var(--page-secondary);
  margin-bottom: var(--space-md);
  line-height: 1.4;
}

.chapter-meta {
  display: flex;
  flex-direction: column;
  gap: 4px;
  padding-top: var(--space-md);
  border-top: 1px solid var(--page-rule);
  margin-top: var(--space-lg);
}

.chapter-location {
  font-family: var(--font-serif);
  font-size: 0.75rem;
  font-variant: small-caps;
  color: var(--page-secondary);
  letter-spacing: 0.08em;
}

.chapter-backing {
  font-family: var(--font-serif);
  font-size: 0.8rem;
  color: var(--page-text);
}

.chapter-summary {
  font-family: var(--font-serif);
  font-size: 0.9rem;
  font-style: italic;
  color: var(--page-secondary);
  line-height: 1.5;
  margin-top: var(--space-md);
}

/* ═══════════════════════════════════════════════════════════
   TABLE OF CONTENTS - Classic Book ToC
   ═══════════════════════════════════════════════════════════ */

.toc-header {
  display: flex;
  flex-direction: column;
  justify-content: center;
  padding-right: var(--space-lg);
}

.toc-label {
  font-family: var(--font-serif);
  font-size: 0.65rem;
  font-variant: small-caps;
  letter-spacing: 0.2em;
  color: var(--page-tertiary);
  margin-bottom: var(--space-xs);
}

.toc-title {
  font-family: var(--font-serif);
  font-size: 2rem;
  font-weight: 400;
  font-style: italic;
  color: var(--page-text);
  letter-spacing: -0.02em;
  position: relative;
  padding-bottom: var(--space-md);
}

/* Subtle decorative rule below ToC title */
.toc-title::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 40px;
  height: 1px;
  background: linear-gradient(90deg, var(--accent-maroon), transparent);
}

.toc-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
  padding-top: var(--space-sm);
}

.toc-entry {
  display: grid;
  grid-template-columns: 1fr auto auto;
  grid-template-rows: auto auto;
  gap: 2px var(--space-sm);
  align-items: baseline;
  padding: var(--space-sm) 0;
  border: none;
  background: transparent;
  cursor: pointer;
  text-align: left;
  transition: all var(--duration-fast) ease;
  border-bottom: 1px solid transparent;
}

.toc-entry:hover {
  border-bottom-color: var(--page-rule);
  transform: translateX(2px);
}

.toc-entry:focus {
  outline: none;
  border-bottom-color: var(--accent-maroon);
}

.toc-entry-title {
  grid-column: 1;
  grid-row: 1;
  font-family: var(--font-serif);
  font-size: 1.1rem;
  font-weight: 500;
  color: var(--page-text);
  transition: color var(--duration-fast) ease;
}

.toc-entry:hover .toc-entry-title {
  color: var(--accent-maroon);
}

.toc-entry-meta {
  grid-column: 1;
  grid-row: 2;
  font-family: var(--font-serif);
  font-size: 0.75rem;
  font-style: italic;
  color: var(--page-tertiary);
}

.toc-entry-period {
  grid-column: 2;
  grid-row: 1;
  font-family: var(--font-serif);
  font-size: 0.7rem;
  font-variant: small-caps;
  letter-spacing: 0.05em;
  color: var(--page-secondary);
  white-space: nowrap;
}

.toc-entry-dots {
  grid-column: 2;
  grid-row: 2;
  /* Dot leaders created via border */
  border-bottom: 1px dotted var(--page-tertiary);
  margin-bottom: 4px;
  min-width: 40px;
}

.toc-entry-page {
  grid-column: 3;
  grid-row: 1 / span 2;
  align-self: center;
  font-family: var(--font-serif);
  font-size: 0.9rem;
  font-style: italic;
  color: var(--page-secondary);
  min-width: 24px;
  text-align: right;
}

/* ═══════════════════════════════════════════════════════════ */

/* Engagement blocks - textbook style */
.engagement-block {
  padding: var(--space-sm) 0;
  border-bottom: 1px solid var(--page-rule);
}

.engagement-block:last-child {
  border-bottom: none;
}

.engagement-label {
  display: block;
  font-family: var(--font-serif);
  font-size: 0.55rem;
  font-variant: small-caps;
  color: var(--page-tertiary);
  letter-spacing: 0.15em;
  margin-bottom: 4px;
}

.engagement-title {
  font-family: var(--font-serif);
  font-size: 0.9rem;
  font-weight: 600;
  color: var(--page-text);
  margin-bottom: 2px;
}

.engagement-title a {
  color: inherit;
  text-decoration: none;
  border-bottom: 1px solid transparent;
  transition: border-color var(--duration-fast) ease;
}

.engagement-title a:hover {
  border-bottom-color: var(--accent-maroon);
}

.engagement-role {
  font-family: var(--font-serif);
  font-size: 0.65rem;
  font-variant: small-caps;
  color: var(--page-secondary);
  letter-spacing: 0.05em;
  margin-bottom: 4px;
}

.engagement-desc {
  font-family: var(--font-serif);
  font-size: 0.75rem;
  color: var(--page-secondary);
  line-height: 1.5;
}

.engagement-others-block .engagement-desc {
  font-style: italic;
  color: var(--page-tertiary);
}

/* Engagement metrics - inline */
.engagement-metrics {
  display: flex;
  gap: var(--space-sm);
  margin-top: var(--space-xs);
  padding-top: var(--space-xs);
  border-top: 1px dashed var(--page-rule);
}

.engagement-metric {
  font-family: var(--font-serif);
  font-size: 0.65rem;
  color: var(--page-secondary);
}

.engagement-metric strong {
  font-size: 0.8rem;
  color: var(--page-text);
}

/* Role sections for multi-part roles */
.role-section {
  margin-bottom: var(--space-sm);
}

.role-section-title {
  font-family: var(--font-serif);
  font-size: 0.7rem;
  font-variant: small-caps;
  font-weight: 600;
  color: var(--page-text);
  letter-spacing: 0.1em;
  margin-bottom: 4px;
}

.role-section-desc {
  font-family: var(--font-serif);
  font-size: 0.9rem;
  color: var(--page-secondary);
  line-height: 1.55;
}

/* Role Details (Right Page) */
.spread-right {
  padding: 0.85rem 1.25rem;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  overflow: hidden;
}

.role-tagline {
  font-family: var(--font-serif);
  font-size: 1.15rem;
  font-weight: 500;
  font-style: italic;
  color: var(--page-text);
  margin-bottom: var(--space-sm);
  line-height: 1.35;
}

.role-details {
  margin-bottom: var(--space-sm);
  flex: 1;
}

.role-details p {
  font-size: 0.92rem;
  color: var(--page-secondary);
  line-height: 1.55;
  margin-bottom: var(--space-xs);
}

.role-details p:last-child {
  margin-bottom: 0;
}

.role-note {
  font-style: italic;
  font-size: 0.78rem !important;
  color: var(--page-tertiary) !important;
}

/* Role Metrics */
.role-metrics {
  display: flex;
  gap: var(--space-xs);
  padding: var(--space-xs) 0;
  border-top: 1px solid var(--page-rule);
  margin-top: auto;
  flex-shrink: 0;
}

.metric {
  text-align: center;
  flex: 1;
}

.metric-value {
  display: block;
  font-family: var(--font-serif);
  font-size: 1.1rem;
  font-weight: 600;
  font-variant-numeric: oldstyle-nums;
  color: var(--page-text);
  line-height: 1.15;
}

.metric-label {
  display: block;
  font-family: var(--font-serif);
  font-size: 0.5rem;
  font-variant: small-caps;
  color: var(--page-secondary);
  letter-spacing: 0.08em;
  margin-top: 1px;
}

/* About Chapter (left side) */
.about-chapter {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: flex-start;
  padding: var(--space-lg) var(--space-md);
}

.about-headshot {
  width: 100px;
  height: 100px;
  border-radius: 50%;
  object-fit: cover;
  object-position: center top;
  margin-bottom: var(--space-sm);
  border: 2px solid var(--page-edge);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.about-chapter-label {
  font-family: var(--font-serif);
  font-size: 0.7rem;
  font-variant: small-caps;
  color: var(--page-secondary);
  letter-spacing: 0.12em;
  margin-bottom: var(--space-sm);
  padding-bottom: var(--space-xs);
  border-bottom: 1px solid var(--page-rule);
}

.about-chapter-title {
  font-family: var(--font-serif);
  font-size: 1.5rem;
  font-weight: 600;
  color: var(--page-text);
  line-height: 1.2;
  margin-bottom: var(--space-sm);
  letter-spacing: -0.01em;
  position: relative;
  padding-bottom: var(--space-sm);
}

/* Subtle decorative rule below chapter title */
.about-chapter-title::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 30px;
  height: 1px;
  background: linear-gradient(90deg, var(--accent-maroon), transparent);
}

.about-chapter-note {
  font-family: var(--font-serif);
  font-size: 0.85rem;
  font-style: italic;
  color: var(--page-tertiary);
  line-height: 1.5;
}

/* Contact Chapter (left side) */
.contact-chapter {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: flex-start;
  padding: var(--space-lg) var(--space-md);
}

.contact-chapter-label {
  font-family: var(--font-serif);
  font-size: 0.7rem;
  font-variant: small-caps;
  color: var(--page-secondary);
  letter-spacing: 0.12em;
  margin-bottom: var(--space-sm);
  padding-bottom: var(--space-xs);
  border-bottom: 1px solid var(--page-rule);
}

.contact-chapter-title {
  font-family: var(--font-serif);
  font-size: 1.5rem;
  font-weight: 600;
  color: var(--page-text);
  line-height: 1.2;
  margin-bottom: var(--space-sm);
  letter-spacing: -0.01em;
  position: relative;
  padding-bottom: var(--space-sm);
}

/* Subtle decorative rule below contact chapter title */
.contact-chapter-title::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 30px;
  height: 1px;
  background: linear-gradient(90deg, var(--accent-maroon), transparent);
}

.contact-chapter-note {
  font-family: var(--font-serif);
  font-size: 0.85rem;
  font-style: italic;
  color: var(--page-tertiary);
  line-height: 1.5;
}

/* About Pages */
.about-header {
  margin-bottom: var(--space-lg);
  padding-bottom: var(--space-md);
  border-bottom: 1px solid rgba(42, 37, 32, 0.1);
  position: relative;
}

.about-header::after {
  content: '';
  position: absolute;
  bottom: -1px;
  left: 0;
  width: 50px;
  height: 2px;
  background: linear-gradient(90deg, var(--page-text) 0%, transparent 100%);
}

.about-header h2 {
  font-family: var(--font-serif);
  font-size: 2rem;
  font-weight: 600;
  color: var(--page-text);
  letter-spacing: -0.01em;
}

.about-lead {
  font-family: var(--font-serif);
  font-size: 1.15rem;
  font-style: italic;
  font-weight: 400;
  color: var(--page-text);
  margin-bottom: var(--space-md);
  line-height: 1.5;
}

.book-page p {
  font-size: 1.05rem;
  color: var(--page-secondary);
  margin-bottom: var(--space-md);
  line-height: 1.75;
}

/* Experience List */
.experience-list {
  margin-bottom: var(--space-lg);
}

.experience-item {
  padding: var(--space-md) 0;
  border-bottom: 1px solid rgba(42, 37, 32, 0.08);
  display: grid;
  grid-template-columns: 1fr auto;
  grid-template-rows: auto auto;
  gap: 2px var(--space-md);
  align-items: baseline;
}

.experience-item:last-child {
  border-bottom: none;
}

.exp-role {
  display: block;
  font-family: var(--font-serif);
  font-size: 1.05rem;
  font-weight: 600;
  color: var(--page-text);
  grid-column: 1;
  grid-row: 1;
}

.exp-company {
  font-size: 0.9rem;
  color: var(--page-secondary);
  grid-column: 1;
  grid-row: 2;
}

.exp-period {
  display: block;
  font-family: var(--font-serif);
  font-size: 0.75rem;
  font-variant: small-caps;
  color: var(--page-secondary);
  letter-spacing: 0.08em;
  grid-column: 2;
  grid-row: 1 / 3;
  align-self: center;
}

/* Capabilities */
.capabilities h3 {
  font-family: var(--font-mono);
  font-size: 0.7rem;
  color: var(--page-secondary);
  text-transform: uppercase;
  letter-spacing: 0.1em;
  margin-bottom: var(--space-sm);
}

.capabilities ul {
  list-style: none;
}

.capabilities li {
  font-size: 0.9rem;
  color: var(--page-text);
  padding: var(--space-xs) 0;
  border-bottom: 1px solid rgba(0, 0, 0, 0.05);
}

/* Currently Section */
.currently-section {
  margin-bottom: var(--space-lg);
}

.currently-item {
  display: flex;
  gap: var(--space-md);
  padding: var(--space-sm) 0;
  border-bottom: 1px solid var(--page-rule);
}

.currently-item:last-child {
  border-bottom: none;
}

.currently-label {
  font-family: var(--font-serif);
  font-size: 0.7rem;
  font-variant: small-caps;
  color: var(--page-secondary);
  letter-spacing: 0.08em;
  min-width: 70px;
  padding-top: 3px;
}

.currently-value {
  font-family: var(--font-serif);
  font-size: 1.05rem;
  color: var(--page-text);
  line-height: 1.5;
}

.currently-value a {
  color: inherit;
  text-decoration: none;
  border-bottom: 1px dotted var(--page-tertiary);
  transition: border-color var(--duration-fast) ease;
}

.currently-value a:hover {
  border-bottom-color: var(--accent-maroon);
}

.education-note {
  margin-top: var(--space-md);
  font-size: 0.85rem;
  color: var(--page-secondary);
}

/* Technical Section (About Page 2) */
.technical-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
  margin-top: var(--space-sm);
}

.technical-item {
  display: flex;
  flex-direction: column;
  gap: 2px;
  padding-bottom: var(--space-sm);
  border-bottom: 1px solid var(--page-rule);
}

.technical-item:last-child {
  border-bottom: none;
}

.technical-category {
  font-family: var(--font-serif);
  font-size: 0.7rem;
  font-variant: small-caps;
  letter-spacing: 0.1em;
  color: var(--page-tertiary);
}

.technical-skills {
  font-family: var(--font-serif);
  font-size: 1.05rem;
  color: var(--page-text);
}

.technical-note {
  margin-top: var(--space-md);
  font-family: var(--font-serif);
  font-size: 0.85rem;
  font-style: italic;
  color: var(--page-secondary);
}

.availability {
  display: inline-flex;
  align-items: center;
  gap: var(--space-xs);
  font-family: var(--font-serif);
  font-size: 0.75rem;
  font-variant: small-caps;
  letter-spacing: 0.08em;
  color: var(--page-text);
  margin-top: var(--space-md);
}

.status-dot {
  width: 5px;
  height: 5px;
  background: var(--accent-maroon);
  border-radius: 50%;
  animation: pulse var(--duration-slow) ease-in-out infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.4; }
}

/* Personal Page (About Book) */
.personal-content {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
}

.personal-content p {
  font-family: var(--font-serif);
  font-size: 0.85rem;
  line-height: 1.55;
  color: var(--page-text);
}

/* Contact Page */
.contact-page {
  display: flex;
  flex-direction: column;
  justify-content: center;
  height: 100%;
  padding: var(--space-xl) var(--space-lg);
}

.contact-header {
  margin-bottom: var(--space-lg);
}

.contact-header .contact-label {
  display: block;
  font-family: var(--font-serif);
  font-size: 0.75rem;
  font-variant: small-caps;
  color: var(--page-secondary);
  letter-spacing: 0.12em;
  margin-bottom: var(--space-sm);
  padding-bottom: var(--space-xs);
  border-bottom: 1px solid var(--page-rule);
}

.contact-header h2 {
  font-family: var(--font-serif);
  font-size: 2.5rem;
  font-weight: 600;
  color: var(--page-text);
  letter-spacing: -0.01em;
}

.contact-note {
  font-size: 1.1rem;
  color: var(--page-secondary);
  margin-bottom: var(--space-xl);
  max-width: 38ch;
  line-height: 1.7;
}

.contact-email {
  display: inline-block;
  font-family: var(--font-serif);
  font-size: 1.15rem;
  color: var(--page-text);
  text-decoration: none;
  border-bottom: 1px solid var(--page-text);
  padding-bottom: 2px;
  margin-bottom: var(--space-lg);
  transition: all var(--duration-fast) var(--ease-out-expo);
}

.contact-email:hover {
  color: var(--accent-maroon);
  border-color: var(--accent-maroon);
}

.social-links {
  display: flex;
  gap: var(--space-lg);
  margin-bottom: var(--space-xl);
}

.social-link {
  font-family: var(--font-serif);
  font-size: 0.85rem;
  font-variant: small-caps;
  color: var(--page-secondary);
  text-decoration: none;
  letter-spacing: 0.1em;
  transition: color var(--duration-fast) var(--ease-out-expo);
}

.social-link:hover {
  color: var(--page-text);
}

.book-footer {
  margin-top: auto;
  padding-top: var(--space-md);
  border-top: 1px solid rgba(42, 37, 32, 0.08);
}

.book-footer p {
  font-family: var(--font-mono);
  font-size: 0.65rem;
  color: var(--page-secondary);
  letter-spacing: 0.1em;
}

.copyright-symbol {
  color: var(--accent-maroon);
  font-weight: 500;
}

/* ═══════════════════════════════════════════════════════════
   REFERENCES PAGE - Testimonials & Quotes
   ═══════════════════════════════════════════════════════════ */

.references-intro {
  font-family: var(--font-serif);
  font-size: 0.95rem;
  font-style: italic;
  color: var(--page-secondary);
  margin-bottom: var(--space-lg);
  text-align: center;
}

.references-quotes {
  display: flex;
  flex-direction: column;
  gap: var(--space-lg);
}

.reference-quote {
  padding: var(--space-md);
  border-left: 2px solid var(--accent-gold);
  background: linear-gradient(90deg, rgba(218, 165, 32, 0.03) 0%, transparent 100%);
}

.quote-text {
  font-family: var(--font-serif);
  font-size: 0.95rem;
  font-style: italic;
  line-height: 1.7;
  color: var(--page-text);
  margin-bottom: var(--space-sm);
  quotes: """ """ "'" "'";
}

.quote-text::before {
  content: open-quote;
  font-size: 1.5em;
  color: var(--accent-gold);
  margin-right: 0.1em;
}

.quote-text::after {
  content: close-quote;
  font-size: 1.5em;
  color: var(--accent-gold);
  margin-left: 0.1em;
}

.quote-attribution {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 0.15rem;
}

.quote-author {
  font-family: var(--font-display);
  font-size: 0.85rem;
  font-weight: 600;
  color: var(--page-text);
  letter-spacing: 0.02em;
}

.quote-author::before {
  content: "— ";
  color: var(--page-secondary);
}

.quote-role {
  font-family: var(--font-mono);
  font-size: 0.65rem;
  color: var(--page-secondary);
  letter-spacing: 0.05em;
}

.references-note {
  margin-top: var(--space-lg);
  padding-top: var(--space-md);
  border-top: 1px solid rgba(42, 37, 32, 0.08);
  font-family: var(--font-mono);
  font-size: 0.75rem;
  color: var(--page-tertiary);
  text-align: left;
  font-style: italic;
}

/* Reference Attribution (left side) */
.reference-attribution {
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: flex-start;
  padding: var(--space-xl) var(--space-md) var(--space-lg);
}

.reference-label {
  font-family: var(--font-serif);
  font-size: 0.7rem;
  font-variant: small-caps;
  color: var(--page-secondary);
  letter-spacing: 0.12em;
  margin-bottom: var(--space-sm);
  padding-bottom: var(--space-xs);
  border-bottom: 1px solid var(--page-rule);
}

.reference-author {
  font-family: var(--font-serif);
  font-size: 1.5rem;
  font-weight: 600;
  color: var(--page-text);
  line-height: 1.2;
  margin-bottom: var(--space-sm);
  letter-spacing: -0.01em;
  position: relative;
  padding-bottom: var(--space-sm);
}

/* Subtle decorative rule below reference author name */
.reference-author::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 30px;
  height: 1px;
  background: linear-gradient(90deg, var(--accent-maroon), transparent);
}

.reference-role {
  font-family: var(--font-serif);
  font-size: 0.9rem;
  font-style: italic;
  color: var(--page-secondary);
  margin-bottom: var(--space-md);
}

.reference-context {
  font-family: var(--font-serif);
  font-size: 0.85rem;
  color: var(--page-tertiary);
  line-height: 1.5;
  font-style: italic;
}

/* Reference Quote Page (right side) */
.reference-quote-page {
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  padding: var(--space-xl) var(--space-md) var(--space-md);
}

.reference-quote-page .reference-quote {
  padding: 0;
  border-left: none;
  background: none;
  margin-bottom: var(--space-md);
}

.reference-quote-page .quote-text {
  font-size: 1.05rem;
  line-height: 1.75;
  color: var(--page-text);
}

.reference-quote-page .quote-text::before,
.reference-quote-page .quote-text::after {
  font-size: 1.3em;
}

/* ═══════════════════════════════════════════════════════════
   ANIMATIONS
   ═══════════════════════════════════════════════════════════ */

/* Book Selection Animation */
.book.is-selected {
  transform: translateY(-30px) translateZ(50px) rotateY(-15deg);
  z-index: 10;
}

/* Page Turn Animation - 3D flip effect */
.page {
  transform-style: preserve-3d;
  transition: transform var(--duration-medium) var(--ease-in-out),
              box-shadow var(--duration-medium) var(--ease-in-out);
}

.page-content {
  transition: opacity var(--duration-medium) var(--ease-out-expo),
              transform var(--duration-medium) var(--ease-out-expo);
}

/* Turning to next page - right page lifts */
.page-right.is-turning-next {
  transform: rotateY(-25deg) translateZ(10px);
  box-shadow: inset 20px 0 30px -15px rgba(0, 0, 0, 0.2),
              -10px 0 30px rgba(0, 0, 0, 0.15);
}

/* Turning to prev page - left page lifts */
.page-left.is-turning-prev {
  transform: rotateY(25deg) translateZ(10px);
  box-shadow: inset -20px 0 30px -15px rgba(0, 0, 0, 0.2),
              10px 0 30px rgba(0, 0, 0, 0.15);
}

/* Content fade during turn */
.page-content.is-turning-out {
  opacity: 0;
  transform: translateX(-20px);
}

.page-content.is-turning-in {
  opacity: 0;
  transform: translateX(20px);
}

/* Page curl lifts during turn */
.page-right.is-turning-next .page-curl {
  transform: scale(1.3) rotate(8deg) translateY(-5px);
}

.page-left.is-turning-prev .page-curl {
  transform: scale(1.3) rotate(-8deg) translateY(-5px);
}

/* ═══════════════════════════════════════════════════════════
   RESPONSIVE DESIGN
   ═══════════════════════════════════════════════════════════ */

@media (max-width: 900px) {
  /* Mobile: constrain book view to fit viewport with fixed nav at bottom */
  .book-view {
    display: flex;
    flex-direction: column;
  }

  .book-container {
    flex-direction: column;
    flex: 1;
    min-height: 0; /* Allow flex shrinking */
    max-height: calc(100vh - 120px); /* Leave room for nav at bottom */
    padding-top: 60px; /* Space for shelf button */
    display: flex;
    justify-content: center;
  }

  .open-book {
    flex-direction: column;
    width: calc(100% - 24px);
    max-width: 400px;
    margin: 0 auto;
    border-radius: 4px 8px 8px 4px;
    overflow: hidden;
    /* Constrain height and make content scrollable */
    max-height: calc(100vh - 180px);
    display: flex;
    /* Add book-like left edge (spine indicator) */
    border-left: 6px solid var(--book-work); /* Default, overridden per book */
    box-shadow:
      0 15px 40px rgba(0, 0, 0, 0.3),
      0 5px 15px rgba(0, 0, 0, 0.2),
      inset 3px 0 8px -3px rgba(0, 0, 0, 0.15);
  }

  /* Book-specific spine colors on mobile */
  .book-view[data-active-book="work"] .open-book { border-left-color: var(--book-work); }
  .book-view[data-active-book="about"] .open-book { border-left-color: var(--book-about); }
  .book-view[data-active-book="contact"] .open-book { border-left-color: var(--book-contact); }
  .book-view[data-active-book="references"] .open-book { border-left-color: var(--book-references); }

  .page {
    padding: var(--space-md);
    transform: none; /* Remove desktop 3D rotation */
    border-radius: 0 4px 4px 0;
  }

  .page-left {
    display: none;
  }

  .page-right {
    transform: none; /* Remove 3D tilt */
    box-shadow: none;
    flex: 1;
    min-height: 0;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }

  .book-spine-center {
    display: none;
  }

  .page-edge {
    display: none;
  }

  /* Better page curl positioning on mobile */
  .page-curl {
    width: 45px;
    height: 45px;
    bottom: 8px;
    right: 8px;
  }

  /* Nav shelf button positioning */
  .nav-shelf-btn {
    position: fixed;
    top: 16px;
    left: 16px;
    z-index: 100;
    background: rgba(10, 9, 8, 0.9);
    backdrop-filter: blur(8px);
  }

  /* Reduced top padding - shelf button is fixed, not overlapping book */
  .page-content,
  .spread-right {
    padding-top: 1rem;
  }

  /* Ensure page numbers don't overlap with shelf button */
  .page-number {
    top: auto;
    bottom: 16px;
    font-size: 0.7rem;
  }

  /* Fixed page navigation at bottom of screen */
  .page-nav {
    position: fixed;
    bottom: 20px;
    left: 0;
    right: 0;
    justify-content: center;
    margin-top: 0;
    z-index: 100;
    background: rgba(10, 9, 8, 0.9);
    backdrop-filter: blur(8px);
    padding: 12px 0;
    border-radius: 0;
  }
}

@media (max-width: 600px) {
  .bookshelf {
    max-width: 100%;
  }

  /* Scale down image-based books for mobile */
  .book-spine-img {
    max-height: 180px;
  }

  .books {
    gap: 0;
    padding: 0 10px;
  }

  /* Hide back panel on mobile - too complex */
  .shelf-back {
    display: none;
  }

  /* Simplify floor reflection */
  .floor-reflection {
    height: 60px;
    opacity: 0.2;
  }

  /* Hide wall brackets on mobile */
  .bookshelf::before,
  .bookshelf::after {
    display: none;
  }

  .shelf-top {
    height: 16px;
  }

  .shelf-front {
    height: 60px;
  }

  .nameplate {
    padding: 8px 16px;
  }

  .nameplate-name {
    font-size: 0.85rem;
  }

  .nameplate-title {
    font-size: 0.55rem;
  }

  .collapsed-nav {
    padding: 0 var(--space-md);
  }

  .nav-books {
    gap: var(--space-sm);
  }

  .page-content {
    padding: var(--space-sm);
  }

  .project-meta {
    grid-template-columns: 1fr;
    gap: var(--space-xs);
  }

  .meta-item {
    text-align: left;
    display: flex;
    justify-content: space-between;
    padding: var(--space-xs) 0;
    border-bottom: 1px solid rgba(42, 37, 32, 0.08);
  }

  .meta-item:last-child {
    border-bottom: none;
  }

  .experience-item {
    grid-template-columns: 1fr;
    gap: var(--space-xs);
  }

  .exp-period {
    grid-column: 1;
    grid-row: auto;
    justify-self: start;
  }

  .role-metrics {
    flex-wrap: wrap;
    gap: var(--space-sm);
  }

  .metric {
    flex: 1 1 45%;
    min-width: 80px;
  }

  .contact-header h2 {
    font-size: 2rem;
  }

  .contact-email {
    font-size: 1rem;
    padding: var(--space-sm);
  }
}

/* Very small screens (iPhone SE) */
@media (max-width: 375px) {
  .nameplate-title {
    display: none;
  }
  
  .nameplate {
    padding: 6px 12px;
  }
  
  .nameplate-name {
    font-size: 0.8rem;
  }
}

/* ═══════════════════════════════════════════════════════════
   REDUCED MOTION
   ═══════════════════════════════════════════════════════════ */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  /* Cursor still works with reduced motion - it's not animated */

  /* Exception: filament and halo glow are subtle and non-disorienting */
  .filament-coil {
    animation-name: filamentGlow !important;
    animation-duration: 4s !important;
    animation-timing-function: ease-in-out !important;
    animation-iteration-count: infinite !important;
  }
  .bulb-glow {
    animation-name: haloBreathe !important;
    animation-duration: 4s !important;
    animation-delay: 0.15s !important;
    animation-timing-function: ease-in-out !important;
    animation-iteration-count: infinite !important;
  }
  .interaction-hint {
    animation: hintFadeIn 1s ease-out 1.5s forwards, hintGlow 6s ease-in-out 2.5s infinite !important;
  }
}
